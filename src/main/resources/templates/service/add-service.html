<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/" xmlns="http://www.w3.org/1999/html">
<head th:replace="fragments :: head">
    <title>Title</title>
</head>
<nav th:replace="fragments :: navigation"></nav>

<body class="container">
<!-- form-control displays a nice table like form -->
    <div style="margin-top: 100px">
        <div class="form-row">
            <div class="col-md-6 col-md-offset-3">
                <form method ="post" style="max-width:500px;" th:object="${service}">
                    <div th:object="${dogs}"></div>
                    <div th:object="${person}"></div>

                    <div class="panel-group">
                        <!-- <div class="col-md-6 col-md-offset-3"> -->
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h1 class="panel-title">Schedule Service</h1>
                            </div>
                            <div class="panel-body">
                                <!--
                                <div th:if="${err}">
                                    <div th:err="${err}" class="col-form-label text-danger a"></div>
                                </div>
                                <div th:unless="${err}">
-->
                                    <div>
                                        <p></p>
                                    </div>

                                    <div class="form-row">
                                        <div class="col-md-10" form-group>

                                            <label><small><strong>Check dogs for service: </strong></small></label>

                                            <div>
                                                <p></p>
                                            </div>
                                            <p><em>
                                                <div class="custom-control custom-checkbox col-md-10" th:each="dog : ${dogs}" >

                                                     <!--including form-control in input below distorts the ckeckbox to a huge box so I had it removed
                                                     including class="checkbox" in label places text on next line and does not align with checkbox-->
                                                     <input  type="checkbox" class="custom-control-input "  name="dogIds" th:value="${dog.id}" th:id="${dog.id}" checked/>
                                                     <label class="custom-control-label" th:for="${dog.id}"  th:text="${dog.name}"></label>

                                                    <p th:if="${#fields.hasErrors('dog')}" class="label label-danger" th:errors="${dog}">Incorrect</p>
                                            <!--
                                                 <span><div th:errors="${dog}" class="col-form-label text-danger"></div></span>
                                                 -->
                                                </div>

                                            </em></p>

                                        </div>
                                     </div>

                                    <div class="form-row">

                                        <div class="col-md-8" form-group>
                                            <div>
                                                <p></p>
                                            </div>
                                            <div>
                                                <p></p>
                                            </div>
                                            <div>
                                                </label><small><strong><p><u> How often do you need this service: </strong></small></label></p></u>
                                            </div>
                                            <div>
                                                <p></p>
                                            </div>

                                            <!--<script src="../js/script.js" type="text/javascript"></script>-->

                                            <table>
                                                <tr>
                                                    <td align="left" height="45">

                                                        <input type="radio" class="radioBtn" name="Radio" id="once" value="once" checked >
                                                        <label for="once" ><small>One Time</small></label>

                                                        <span class="tab-space"><input class="radioBtn" type="radio" name="Radio" id="Week" value="weekly"/></span>
                                                        <label for="Week" ><small>Weekly</small></label>
                                                        <!--<input class="radioBtn" type="radio" name="Radio" id="Radio" value="weekly" required >-->

                                                        <div class="Box" style="display:none">
                                                            <div>
                                                                <p></p>
                                                            </div>
                                                            <div class="select-weekDays" >
                                                                <input type="text" th:field="*{dayOfWeek}" />
                                                                <input type="checkbox" th:id="weekday-mon" class="weekday" name="dayOfWeek" th:value="Mon" />
                                                                <label th:for="weekday-mon">Mon</label>

                                                                <span><input type="text" th:field="*{dayOfWeek}" />
                                                                <input type="checkbox" th:id="weekday-tue" class="weekday" name="dayOfWeek"  th:value="Tue"/>
                                                                <label th:for="weekday-tue">Tue</label></span>

                                                                <span><input type="text" th:field="*{dayOfWeek}" />
                                                                <input type="checkbox" th:id="weekday-wed" class="weekday" name="dayOfWeek"  th:value="Wed"/>
                                                                    <label th:for="weekday-wed">Wed</label></span>

                                                                <span><input type="text" th:field="*{dayOfWeek}" />
                                                                <input type="checkbox" th:id="weekday-thu" class="weekday" name="dayOfWeek" th:value="Thu"/>
                                                                <label th:for="weekday-thu">Thu</label></span>

                                                                <span><input type="text" th:field="*{dayOfWeek}" />
                                                                <input type="checkbox" th:id="weekday-fri" class="weekday" name="dayOfWeek" th:value="Fri" />
                                                                    <label th:for="weekday-fri">Fri</label></span>

                                                                <span><input type="text" th:field="*{dayOfWeek}" />
                                                                <input type="checkbox" th:id="weekday-sat" class="weekday" name="dayOfWeek"  th:value="Sat"/>
                                                                    <label th:for="weekday-sat">Sat</label></span>

                                                                <span><input type="text" th:field="*{dayOfWeek}" />
                                                                <input type="checkbox" th:id="weekday-sun" class="weekday" name="dayOfWeek" th:value="Sun"/>
                                                                    <label th:for="weekday-sun">Sun</label></span>
                                                                <span th:errors="*{dayOfWeek}" class="error"></span>
                                                            </div>

                                                        </div>
                                                        <div>
                                                            <p></p>
                                                        </div>
                                                        <p><label for="sdt">Start Date:</label>
                                                            <input id="sdt" type="date" th:field="*{startDate}" /></p>
                                                        <span th:errors="*{startDate}" class="error"></span>
                                                        <p><label for="edt">End Date:</label>
                                                            <input id="edt" type="date" th:field="*{endDate}" /></p>
                                                        <span th:errors="*{endDate}" class="error"></span>

                                                    </td>
                                                </tr>
                                            </table>

                                            <script>

                                                $('input[type="radio"]').click(function()
                                                {
                                                if($(this).attr("value")=="once")
                                                {
                                                    $(".Box").hide('slow');
                                                }
                                                if($(this).attr("value")=="weekly")
                                                {
                                                    $(".Box").show('slow');

                                                }
                                                });
                                                $('input[type="radio"]').trigger('click');

                                            </script>



                                        </div>

                                    </div>

                                    <div class="col-md-8 form-group">

                                        <!--<input type="hidden" th:value="*{id}" name="serviceId" />-->
                                        <div th:unless="${err}">
                                            <input type="hidden" name="personEmail" th:value="${person.email}" />
                                        </div>
                                        <button type="submit" name="action" class="btn btn-primary" value="Add">Save</button>
                                        <!--<button type="submit" name="action" value="Exit">Save and Exit</button> -->
                                        <span class="tab-space"><a href="/" id ="cancel" name="cancel" class="btn btn-primary">&nbsp;Exit</a></span>
                                    </div>
                            <!-- {err} div
                                </div>
                        -->
                            <!-- panel body div -->
                            </div>

                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>

</body>
</html>

<!--

                            <div>

                                    <div class="form-check col-md-8">
                                        <input class="form-check-input" th:field="${frequency}" type="radio" name="once" value="once" id="once" />
                                        <label class="form-check-label" for="once"><small>One Time</small></label>
                                    </div>

                                    <div class="form-check col-md-8">
                                        <input class="form-check-input" th:field="${frequency}" type="radio" name="weekly"  value="weekly" checked id="weekly" />
                                        <label class="form-check-label" for="weekly"><small>Weekly</small></label>
                                    </div>
                                    </div>
                                        <p></p>
                                    </div>
                            </div>

                        -->