<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/" xmlns="http://www.w3.org/1999/html">
<head th:replace="fragments :: head">
    <title>Add-Service</title>
</head>
<nav th:replace="fragments :: navigation"></nav>

<body class="container" style="margin-top: 90px">
<div class="col-md-6 col-md-offset-3" >

    <form method ="post"  th:object="${service}">

        <div class="panel-group">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h1 class="panel-title">Schedule Appointment</h1>
                </div>
                <div class="panel-body">
                    <div th:text="${error}" class="col-form-label text-danger"></div>
                    <div>
                        <p></p>
                    </div>

                    <div class="form-row col-md-12 form-group" >
                        <label><p><u><small><strong>Check dogs for service: </strong></small><span class="required">*</span></u></p></label>

                        <div>
                            <p></p>
                        </div>
                        <p><em>

                            <div class="custom-control custom-checkbox" th:each="dog : ${dogs}" >
                                <!--including form-control in input below distorts the ckeckbox to a huge box so I had it removed
                                including class="checkbox" in label places text on next line and does not align with checkbox-->
                                <input  type="checkbox" class=" custom-control-input required_group"  name="dogIds" th:value="${dog.id}" th:id="${dog.id}" id="defaultChecked" checked />
                                <label class="custom-control-label" th:for="${dog.id}"  for="defaultChecked" th:text="${dog.name}"></label>

                                <script>
                                       $('form').on('click', '.required_group', function() {
                                           $('input.required_group').prop('required', $('input.required_group:checked').length === 0);
                                       });
                                 </script>

                            </div>

                        </em></p>
                    </div>

                    <div class="form-row col-md-12 form-group" >

                        <div>
                            </label><small><strong><p><u> How often do you need this service: </u></p></strong></small></label>
                        </div>
                        <div>
                            <p></p>
                        </div>

                        <!--<script src="../js/script.js" type="text/javascript"></script>-->
                        <table>
                            <tr>
                                <td align="left" height="45">

                                    <input type="radio" class="radioBtn" name="Radio" id="once" value="once" checked >
                                    <label for="once" ><small>One Time</small></label>

                                    <span class="tab-space"><input class="radioBtn" type="radio" name="Radio" id="Week" value="weekly"/></span>
                                    <label for="Week" ><small>Weekly</small></label>
                                    <!--<input class="radioBtn" type="radio" name="Radio" id="Radio" value="weekly" required >-->

                                    <div class="Box" style="display:none">
                                        <div>
                                            <p></p>
                                        </div>
                                        <div class="select-weekDays" >
                                            <input type="text" class="required_week" th:field="*{dayOfWeek}" />
                                            <input type="checkbox" th:id="weekday-mon" class="weekday custom-control-input " name="dayOfWeek" th:value="Mon" />
                                            <label th:for="weekday-mon">Mon</label>

                                            <span><input type="text" th:field="*{dayOfWeek}" />
                                                                      <input type="checkbox" th:id="weekday-tue" class="weekday custom-control-input " name="dayOfWeek"  th:value="Tue" />
                                                                      <label th:for="weekday-tue">Tue</label></span>

                                            <span><input type="text" th:field="*{dayOfWeek}" />
                                                                      <input type="checkbox" th:id="weekday-wed" class="weekday custom-control-input " name="dayOfWeek"  th:value="Wed" />
                                                                          <label th:for="weekday-wed">Wed</label></span>

                                            <span><input type="text" th:field="*{dayOfWeek}" />
                                                                      <input type="checkbox" th:id="weekday-thu" class="weekday custom-control-input " name="dayOfWeek" th:value="Thu" />
                                                                      <label th:for="weekday-thu">Thu</label></span>

                                            <span><input type="text" th:field="*{dayOfWeek}" />
                                                                      <input type="checkbox" th:id="weekday-fri" class="weekday custom-control-input " name="dayOfWeek" th:value="Fri" />
                                                                          <label th:for="weekday-fri">Fri</label></span>

                                            <span><input type="text" th:field="*{dayOfWeek}" />
                                                                      <input type="checkbox" th:id="weekday-sat" class="weekday custom-control-input " name="dayOfWeek"  th:value="Sat" />
                                                                          <label th:for="weekday-sat">Sat</label></span>

                                            <span><input type="text" th:field="*{dayOfWeek}" />
                                                                      <input type="checkbox" th:id="weekday-sun" class="weekday custom-control-input " name="dayOfWeek" th:value="Sun" />
                                                                          <label th:for="weekday-sun">Sun</label></span>


                                        </div>

                                    </div>

                                    <div>
                                        <p></p>
                                    </div>

                                    <p><label for="sdt"><small>Start Date: </small><span class="required ">*</span></label>
                                        <input id="sdt"  class=" glyphicon glyphicon-calendar form-control " type="date"  th:field="*{startDate}" required/></p>


                                    <p><label for="edt"><small>End Date: </small><span class="required ">*</span></label>
                                        <input id="edt" class="form-control glyphicon glyphicon-calendar" type="date"  th:field="*{endDate}" required/></p>

                                    <!--
                                    <script>
                                          $('form').on('click', '.required_week', function() {
                                              $('input.required_week').prop('required', $('input.required_week:checked').length === 0);
                                          });
                                    </script>  -->
                                    <script>

                                                      $('input[type="radio"]').click(function()
                                                      {
                                                      if($(this).attr("value")=="once")
                                                      {
                                                          $(".Box").hide('slow');
                                                      }
                                                      if($(this).attr("value")=="weekly")
                                                      {
                                                          $(".Box").show('slow');
                                                      }
                                                      });
                                                      $('input[type="radio"]').trigger('click');
                                                 </script>

                                </td>
                            </tr>
                        </table>

                    </div>

                     <div class="col-md-12 form-group">
                        <div>
                            <p></p>
                        </div>
                        <!-- person.email if not specified updates a "NULL" in the person database. -->
                        <input type="hidden" class="form-control" th:field="${person.email}" id="person.email"/>
                        <br/>
                        <button type="submit" name="action" class="btn btn-primary" value="Add">Save</button>
                        <span class="tab-space"><a href="/" id ="cancel" name="cancel" class="btn btn-primary">&nbsp;Exit</a></span>
                    </div>
                    <div class="col-md-12 ">
                        <br/>
                        <label class="required">*</label>
                        <label><span><small>Indicates required field</small></span></label>

                    </div>
                </div>

            </div>
        </div>
    </form>

</div>

</body>
</html>


