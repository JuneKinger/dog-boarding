<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/" xmlns="http://www.w3.org/1999/html">
<head th:replace="fragments :: head">
    <title>Title</title>
</head>
<nav th:replace="fragments :: navigation"></nav>

<body class="container">
<!-- form-control displays a nice table like form -->
<div style="margin-top: 100px">
    <div class="form-row">
        <div class="col-md-6 col-md-offset-3">
            <form method ="post" style="max-width:500px;" th:object="${service}">

                <div class="panel-group">
                    <!-- <div class="col-md-6 col-md-offset-3"> -->
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h1 class="panel-title">Schedule Appointment</h1>
                        </div>
                        <div class="panel-body">
                            <div th:if="${err}">
                                <div th:err="${err}" th:text="${err}" class="col-form-label text-danger a"></div>
                            </div>
                            <div th:unless="${err}">
                                <div>
                                    <p></p>
                                </div>

                                <div class="form-row col-md-10 form-group" >
                                    <label><p><u><small><strong>Check dogs for service: </strong></small><span class="required">*</span></u></p></label>

                                    <div>
                                        <p></p>
                                    </div>
                                    <p><em>
                                        <div class="custom-control custom-checkbox" th:each="dog : ${dogs}" >

                                            <!--including form-control in input below distorts the ckeckbox to a huge box so I had it removed
                                            including class="checkbox" in label places text on next line and does not align with checkbox-->
                                            <input  type="checkbox" class="checkmark custom-control-input required_group"  name="dogIds" th:value="${dog.id}" th:id="${dog.id}" required/>
                                            <label class="custom-control-label" th:for="${dog.id}"  th:text="${dog.name}"></label>

                                            <script>
                                                  $('form').on('click', '.required_group', function() {
                                                      $('input.required_group').prop('required', $('input.required_group:checked').length === 0);
                                                  });
                                            </script>
                                        </div>

                                    </em></p>
                                </div>


                                <div class="form-row col-md-12 form-group" >

                                    <div>
                                        </label><small><strong><p><u> How often do you need this service: </u></p></strong></small></label>
                                    </div>
                                    <div>
                                        <p></p>
                                    </div>

                                    <!--<script src="../js/script.js" type="text/javascript"></script>-->

                                    <table>
                                        <tr>
                                            <td align="left" height="45">

                                                <input type="radio" class="radioBtn" name="Radio" id="once" value="once" checked >
                                                <label for="once" ><small>One Time</small></label>

                                                <span class="tab-space"><input class="radioBtn" type="radio" name="Radio" id="Week" value="weekly"/></span>
                                                <label for="Week" ><small>Weekly</small></label>
                                                <!--<input class="radioBtn" type="radio" name="Radio" id="Radio" value="weekly" required >-->

                                                <div class="Box" style="display:none">
                                                    <div>
                                                        <p></p>
                                                    </div>
                                                    <div class="select-weekDays" >
                                                        <input type="text" th:field="*{dayOfWeek}" />
                                                        <input type="checkbox" th:id="weekday-mon" class="weekday custom-control-input required_group" name="dayOfWeek" th:value="Mon" required/>
                                                        <label th:for="weekday-mon">Mon</label>

                                                        <span><input type="text" th:field="*{dayOfWeek}" />
                                                                        <input type="checkbox" th:id="weekday-tue" class="weekday custom-control-input required_group" name="dayOfWeek"  th:value="Tue" required/>
                                                                        <label th:for="weekday-tue">Tue</label></span>

                                                        <span><input type="text" th:field="*{dayOfWeek}" />
                                                                        <input type="checkbox" th:id="weekday-wed" class="weekday custom-control-input required_group" name="dayOfWeek"  th:value="Wed" required/>
                                                                            <label th:for="weekday-wed">Wed</label></span>

                                                        <span><input type="text" th:field="*{dayOfWeek}" />
                                                                        <input type="checkbox" th:id="weekday-thu" class="weekday custom-control-input required_group" name="dayOfWeek" th:value="Thu" required/>
                                                                        <label th:for="weekday-thu">Thu</label></span>

                                                        <span><input type="text" th:field="*{dayOfWeek}" />
                                                                        <input type="checkbox" th:id="weekday-fri" class="weekday custom-control-input required_group" name="dayOfWeek" th:value="Fri" required/>
                                                                            <label th:for="weekday-fri">Fri</label></span>

                                                        <span><input type="text" th:field="*{dayOfWeek}" />
                                                                        <input type="checkbox" th:id="weekday-sat" class="weekday custom-control-input required_group" name="dayOfWeek"  th:value="Sat" required/>
                                                                            <label th:for="weekday-sat">Sat</label></span>

                                                        <span><input type="text" th:field="*{dayOfWeek}" />
                                                                        <input type="checkbox" th:id="weekday-sun" class="weekday custom-control-input required_group" name="dayOfWeek" th:value="Sun" required/>
                                                                            <label th:for="weekday-sun">Sun</label></span>
                                                        <span th:errors="*{dayOfWeek}" class="error"></span>
                                                        <script>
                                                                $('form').on('click', '.required_group', function() {
                                                                    $('input.required_group').prop('required', $('input.required_group').length === 0);
                                                                });
                                                            </script>

                                                    </div>

                                                </div>
                                                <div>
                                                    <p></p>
                                                </div>
                                                <p><label for="sdt"><small>Start Date: </small><span class="required">*</span></label>
                                                    <input id="sdt" type="date" th:field="*{startDate}" required/></p>
                                                <!--<span th:errors="*{startDate}" class="error"></span> -->
                                                <p><label for="edt"><small>End Date: </small><span class="required">*</span></label>
                                                    <input id="edt" type="date" th:field="*{endDate}" required/></p>
                                                <!--<span th:errors="*{endDate}" class="error"></span> -->


                                                <script>
                                                        $('input[type="radio"]').click(function()
                                                        {
                                                        if($(this).attr("value")=="once")
                                                        {
                                                            $(".Box").hide('slow');
                                                        }
                                                        if($(this).attr("value")=="weekly")
                                                        {
                                                            $(".Box").show('slow');
                                                        }
                                                        });
                                                        $('input[type="radio"]').trigger('click');
                                                   </script>
                                            </td>
                                        </tr>
                                    </table>

                                </div>

                                <div class="col-md-8 form-group">

                                    <!--<input type="hidden" th:value="*{id}" name="serviceId" />-->
                                    <div th:unless="${err}">
                                        <input type="hidden" name="email" th:value="${person.email}" />
                                    </div>
                                    <p></p>
                                    <button type="submit" name="action" class="btn btn-primary" value="Add">Save</button>
                                    <!--<button type="submit" name="action" value="Exit">Save and Exit</button> -->
                                    <span class="tab-space"><a href="/" id ="cancel" name="cancel" class="btn btn-primary">&nbsp;Exit</a></span>
                                </div>
                                <div class="col-md-10 ">
                                    <br/>
                                    <label class="required">*</label>
                                    <label><span><small>Indicates required field</small></span></label>

                                </div>
                            </div>
                            <!-- {err} div
                                </div>
                        -->
                            <!-- panel body div -->
                        </div>
                    </div>

                </div>

            </form>
        </div>
    </div>
</div>

</body>
</html>


